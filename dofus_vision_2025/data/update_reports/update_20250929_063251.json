{
  "update_info": {
    "timestamp": "2025-09-29T06:32:51.780074",
    "backup_location": "data\\backups\\20250929_063251",
    "extractor_available": true
  },
  "stats_before": {
    "dofus_spells": {
      "exists": true,
      "tables": {
        "spells": 2,
        "spell_templates": 0
      },
      "total_records": 2,
      "file_size": 12288
    },
    "dofus_monsters": {
      "exists": true,
      "tables": {
        "monsters": 2,
        "monster_locations": 0
      },
      "total_records": 2,
      "file_size": 12288
    },
    "dofus_maps": {
      "exists": true,
      "tables": {
        "maps": 2,
        "map_resources": 0,
        "map_connections": 0
      },
      "total_records": 2,
      "file_size": 32768
    },
    "dofus_economy": {
      "exists": true,
      "tables": {
        "price_history": 0,
        "sqlite_sequence": 0,
        "price_trends": 0,
        "market_opportunities": 0
      },
      "total_records": 0,
      "file_size": 32768
    }
  },
  "stats_after": {
    "dofus_spells": {
      "exists": true,
      "tables": {
        "spells": 2,
        "spell_templates": 0
      },
      "total_records": 2,
      "file_size": 12288
    },
    "dofus_monsters": {
      "exists": true,
      "tables": {
        "monsters": 2,
        "monster_locations": 0
      },
      "total_records": 2,
      "file_size": 12288
    },
    "dofus_maps": {
      "exists": true,
      "tables": {
        "maps": 2,
        "map_resources": 0,
        "map_connections": 0
      },
      "total_records": 2,
      "file_size": 32768
    },
    "dofus_economy": {
      "exists": true,
      "tables": {
        "price_history": 0,
        "sqlite_sequence": 0,
        "price_trends": 0,
        "market_opportunities": 0
      },
      "total_records": 0,
      "file_size": 32768
    }
  },
  "update_results": {
    "spells": {
      "updated": 0
    },
    "monsters": {
      "updated": 0
    },
    "maps": {
      "updated": 0
    }
  },
  "integrity_results": {
    "dofus_spells": {
      "status": "ok",
      "integrity_check": "ok",
      "tables": {
        "spells": 2,
        "spell_templates": 0
      }
    },
    "dofus_monsters": {
      "status": "ok",
      "integrity_check": "ok",
      "tables": {
        "monsters": 2,
        "monster_locations": 0
      }
    },
    "dofus_maps": {
      "status": "ok",
      "integrity_check": "ok",
      "tables": {
        "maps": 2,
        "map_resources": 0,
        "map_connections": 0
      }
    },
    "dofus_economy": {
      "status": "ok",
      "integrity_check": "ok",
      "tables": {
        "price_history": 0,
        "sqlite_sequence": 0,
        "price_trends": 0,
        "market_opportunities": 0
      }
    }
  },
  "sample_data_counts": {
    "spells": 5,
    "monsters": 5,
    "maps": 5
  },
  "operation_log": [
    {
      "timestamp": "2025-09-29T06:32:51.718088",
      "operation": "pre_stats",
      "status": "started",
      "details": "Collecte statistiques avant mise à jour"
    },
    {
      "timestamp": "2025-09-29T06:32:51.720837",
      "operation": "backup",
      "status": "success",
      "details": "5 bases sauvegardées dans data\\backups\\20250929_063251"
    },
    {
      "timestamp": "2025-09-29T06:32:51.720955",
      "operation": "extract_real_data",
      "status": "started",
      "details": "Tentative extraction données réelles"
    },
    {
      "timestamp": "2025-09-29T06:32:51.746732",
      "operation": "bundles_found",
      "status": "info",
      "details": "Trouvé 6 bundles sorts, 3 monstres, 5 cartes"
    },
    {
      "timestamp": "2025-09-29T06:32:51.747353",
      "operation": "create_sample_data",
      "status": "started",
      "details": "Création d'échantillons de test"
    },
    {
      "timestamp": "2025-09-29T06:32:51.747470",
      "operation": "update_spells",
      "status": "started",
      "details": "Mise à jour base sorts"
    },
    {
      "timestamp": "2025-09-29T06:32:51.761406",
      "operation": "update_spells",
      "status": "completed",
      "details": "0 sorts ajoutés"
    },
    {
      "timestamp": "2025-09-29T06:32:51.761444",
      "operation": "update_monsters",
      "status": "started",
      "details": "Mise à jour base monstres"
    },
    {
      "timestamp": "2025-09-29T06:32:51.768719",
      "operation": "update_monsters",
      "status": "completed",
      "details": "0 monstres ajoutés"
    },
    {
      "timestamp": "2025-09-29T06:32:51.768764",
      "operation": "update_maps",
      "status": "started",
      "details": "Mise à jour base cartes"
    },
    {
      "timestamp": "2025-09-29T06:32:51.777184",
      "operation": "update_maps",
      "status": "completed",
      "details": "0 cartes ajoutées"
    },
    {
      "timestamp": "2025-09-29T06:32:51.777226",
      "operation": "post_stats",
      "status": "started",
      "details": "Collecte statistiques après mise à jour"
    },
    {
      "timestamp": "2025-09-29T06:32:51.778640",
      "operation": "integrity_check",
      "status": "started",
      "details": "Vérification intégrité"
    }
  ]
}